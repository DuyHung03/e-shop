"use strict";(self.webpackChunke_shop=self.webpackChunke_shop||[]).push([[85],{6085:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(4165),a=n(5861),c=n(9439),i=n(9448),s=n.n(i),u=n(6602),o=n(9806),l=n(1632),d=n(2791),p=n(503),f=n(2046),h=n(743),x=n(7799),m=n(9859),_=n(184),y=(0,d.lazy)((function(){return Promise.resolve().then(n.bind(n,4122))})),C=s().bind({wrapper:"CartItem_wrapper__SNxQz",title:"CartItem_title__4ZesO",price:"CartItem_price__CGdM8",quantity:"CartItem_quantity__RNImp",image:"CartItem_image__MYwwR",delete:"CartItem_delete__fOUl-"}),j=function(e){var t=e.productData,n=void 0===t?{}:t,i=n.product,s=(0,d.useContext)(p.I),j=s.setTotal,k=s.setSelected,Z=(0,d.useState)(!1),v=(0,c.Z)(Z,2),w=v[0],q=v[1],b=(0,d.useCallback)((function(){q(!w),w?(j((function(e){return e-i.price*n.quantity})),k((function(e){return e-n.quantity}))):(j((function(e){return e+i.price*n.quantity})),k((function(e){return e+n.quantity})))}),[q,w,i.price,j,k,n.quantity]),I=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.PL)((0,x.IO)((0,x.hJ)(m.db,"cart"),(0,x.ar)("product.id","==",i.id)));case 2:return t=e.sent,n=t.docs[0].ref,e.next=6,(0,x.r7)(n,{quantity:t.docs[0].data().quantity+1});case 6:console.log("updated");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.PL)((0,x.IO)((0,x.hJ)(m.db,"cart"),(0,x.ar)("product.id","==",i.id)));case 2:return t=e.sent,n=t.docs[0].ref,e.next=6,(0,x.r7)(n,{quantity:t.docs[0].data().quantity-1});case 6:console.log("updated");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.oe)((0,x.JU)(m.db,"cart",n.id));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)("div",{className:C("wrapper"),children:[(0,_.jsx)("input",{type:"checkbox",checked:w,onChange:b}),(0,_.jsx)(d.Suspense,{fallback:(0,_.jsx)(f.Z.Image,{active:!0}),children:(0,_.jsx)(y,{src:i.images[0],className:C("image"),onClick:b})}),(0,_.jsx)("p",{className:C("title"),onClick:b,children:i.title}),(0,_.jsxs)("span",{className:C("price"),onClick:b,children:[(0,_.jsx)("span",{children:"Unit Price:"}),"$",i.price]}),(0,_.jsxs)("div",{className:C("quantity"),children:[(0,_.jsx)(u.Z,{className:C("increase"),onClick:I,disable:!!w,children:(0,_.jsx)(o.G,{icon:l.r8p})}),(0,_.jsx)("span",{children:n.quantity}),(0,_.jsx)(u.Z,{className:C("decrease"),onClick:N,disable:!!w,children:(0,_.jsx)(o.G,{icon:l.Nw4})})]}),(0,_.jsx)(h.Z,{title:"Delete product",mouseEnterDelay:1,children:(0,_.jsx)(u.Z,{className:C("delete"),onClick:g,children:(0,_.jsx)(o.G,{icon:l.$9F})})})]})}}}]);
//# sourceMappingURL=85.404ba7b1.chunk.js.map